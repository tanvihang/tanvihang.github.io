<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1" name="viewport" />    <title>Angus Tan</title>

    <link rel="icon" href="assets/images/AutumnLeaf.gif">
    <link href="./css/base.css" type="text/css" rel="stylesheet">
    <link href="./css/index.css" type="text/css" rel="stylesheet">
    <script type="module" src="https://unpkg.com/@splinetool/viewer@1.6.9/build/spline-viewer.js"></script>
</head>


<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>


<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VPFYQJ4C7S"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VPFYQJ4C7S');
</script>

<body>

    <!-- Loader -->
    <!-- <div id="loader" class="loader">
        <div class="loader-text">ANGUS</div>
    </div> -->
    
    
    <scroll-top-button class="scroll-top-button hide"></scroll-top-button>
    <header-custom title = "ANGUS"></header-custom>
    
    <div class="hero-filler"></div>
    
    <div class="sticky-toc">
        <div class="sticky-toc-container">
            <div class="intro">
                <h5 id="toc-angus">ANGUS TAN</h5>
                <h2 id="toc-intro" class="toc-title">INTRO,</h2>
            </div>
            <h2 id="toc-services" class="toc-title">SERVICES,</h2>
            <h2 id="toc-works" class="toc-title">WORKS,</h2>
            <h2 id="toc-about" class="toc-title">ABOUT.</h2>
        </div>
    </div>
    
    <div class="section1 intro pad" id="intro">
        <div class="hero-container">
            <div class="hero-flex1">
                <div class="hero-flex1-container">
                    <h5 class="hero-text appear-text1">I help businesses build interactive and user-centric design that engage audiences and drive growth.</h5>
                    <cta-button-custom title="REACH OUT"></cta-button-custom>
                </div>
                
                <img src="./assets/images/Angus.JPG" />
            </div>

        </div>

    </div>

    <div class="section2 services pad max-width" id="services">
        <!-- <h1>SERVICES,</h1> -->
         <div class="section2-header">
            <div class="filler-block"></div>
            <h5 class="services-text appear-text1">
                Wanted to build a websites? I craft premium web experiences that are tailored to your brand focused on growing your business.
            </h5>
         </div>

         <div class="section2-card-section">
            <div class="section2-card-container section2-sticky-1">
                <div class="section2-card-header">
                    <h3>
                        (01)
                    </h3>
                    <h3>
                        Web Development
                    </h3>
                </div>

                <div class="section2-card-content">
                    <h6>Frontend Developer with 2 years of experience, specializing in custom-coded websites that capture user attention and guide seamless task completion.</h6>
                    
                    <div class="section2-card-content-list">
                        <ol>
                            <li>
                                <h5>
                                    Enhance Performance
                                </h5>
                            </li>
                            <li>
                                <h5>
                                    Animation
                                </h5>
                            </li>
                            <li>
                                <h5>
                                    Custom-coded
                                </h5>
                            </li>
                        </ol>
                    </div>
                
                </div>
            </div>
            <div class="section2-card-container section2-sticky-2">
                <div class="section2-card-header">
                    <h3>
                        (02)
                    </h3>
                    <h3>
                        Web Design
                    </h3>
                </div>

                <div class="section2-card-content">
                    <h6>Carefully study your business to optimize empathy with your client, user-centric design to maximize conversion rate.</h6>
                    
                    <div class="section2-card-content-list">
                        <ol>
                            <li>
                                <h5>
                                    Responsive Design
                                </h5>
                            </li>
                            <li>
                                <h5>
                                    Wireframing
                                </h5>
                            </li>
                            <li>
                                <h5>
                                    UX Writing
                                </h5>
                            </li>
                        </ol>
                    </div>
                
                </div>
            </div>
            <div class="section2-card-container section2-sticky-3">
                <div class="section2-card-header">
                    <h3>
                        (03)
                    </h3>
                    <h3>
                        Photography
                    </h3>
                </div>

                <div class="section2-card-content">
                    <h6>Your website needs captivating visuals to connect with your audience. I help you showcase your products through photography that stands out and enhances your digital presence.</h6>
                    
                    <div class="section2-card-content-list">
                        <ol>
                            <li>
                                <h5>
                                    Lightings
                                </h5>
                            </li>
                            <li>
                                <h5>
                                    Photo Editing
                                </h5>
                            </li>
                            <li>
                                <h5>
                                    Fine-tuned
                                </h5>
                            </li>
                        </ol>
                    </div>
                
                </div>
            </div>
         </div>



    </div>

    
    <div class="dark-section">
        <div class="section3 works pad" id="works">
            <div class="section3-hover-container">
                <img class="section3-hover-container-img" />
            </div>
            <h5>Selected Works</h5>
            
            <div class="section3-works-container">
            </div>
        </div>
    
    
        <div class="section4 about" id="about">
            <!-- <h1>ABOUT,</h1> -->
    
        </div>
    </div>


    <footer-custom></footer-custom>

</body>

<script type="module">
    
import './components/header/index.js'
import './components/button/PlopButton/index.js'
import './components/card/HeroCard/index.js'
import './components/footer/index.js'

import './js/Home/animations.js'
import './js/Home/resize.js'
import {setHeaderHeight, adjustFillerBlockHeight} from './js/Home/utils.js'
import {showHoverInfo} from './js/Home/hover.js'
import './js/Home/scroll.js'

import globalContext from './datas/globalContext.js'
import {works} from './datas/home.js'
import {elementIsInViewPort, debounce} from './js/IntersectionObserver/vi.js'
import "/components/button/ScrollTopButton/index.js"
import "/components/button/CTAButton/index.js"
import "/components/card/WorkCard/index.js"

const filler = document.querySelector(".hero-filler");
const heroContainer = document.querySelector(".section1")
const footer = document.querySelector("footer-custom");
const stickyToc = document.querySelector(".sticky-toc");
const section3WorksContainer = document.querySelector(".section3-works-container");

// 1. Set header height
setHeaderHeight()

// 2. Check if footer is in view
window.addEventListener('scroll', debounce(checkFooterInView, 100))

// Call it initially and on window resize
window.addEventListener('load', adjustFillerBlockHeight);
window.addEventListener('resize', adjustFillerBlockHeight);

const sections = document.querySelectorAll("div[id]");
const tocHeaders = {
    intro: document.getElementById("toc-intro"),
    services: document.getElementById("toc-services"),
    works: document.getElementById("toc-works"),
    about: document.getElementById("toc-about")
};

// 3. Add click event listeners to each TOC header for smooth scrolling
Object.values(tocHeaders).forEach((header) => {
    header.addEventListener('click', (event) => {
        const sectionId = event.target.id.replace('toc-', ''); // Extract section id
        
        if (sectionId === 'intro') {
            // Scroll to the very top of the page when 'INTRO' is clicked
            window.scrollTo({
                top: 0,
                behavior: 'smooth' // Smooth scrolling
            });
        } else {
            const section = document.getElementById(sectionId);

            if (section) {
                section.scrollIntoView({
                    behavior: 'smooth', // Smooth scrolling
                    block: 'start' // Align to the top of the viewport
                });
            }
        }
    });
});

function setHeroContainerHeight(height){
    if(window.innerWidth > scale.windowWidth.mobile && window.innerWidth < scale.windowWidth.tablet){
        const calcHeight = `calc(100vh - 70px)`
        heroContainer.style.height = calcHeight;
    }else{
        const calcHeight = `calc(100vh - 250px)`
        heroContainer.style.height = calcHeight;
    }
}

globalContext.headerHeight.subscribe(()=>{
    const height = globalContext.headerHeight.getState().height;
    setHeaderHeight(height)
    // setHeroContainerHeight(height)
})

window.addEventListener('DOMContentLoaded', ()=>{
    works.forEach((work, index)=>{
        const workCard = document.createElement("work-card-custom")
        workCard.setAttribute("imgDict", JSON.stringify(work))
        workCard.setAttribute("id", `work-card-${index}`)
        section3WorksContainer.appendChild(workCard)
    })

    showHoverInfo();

})

function checkFooterInView(){
    if(elementIsInViewPort(footer, 20)){
        footer.shadowRoot.querySelector('.footer').classList.add("outer-container-show")
    }
}



</script>


</html>