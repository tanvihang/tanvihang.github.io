<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <title>Angus Tan | Personal Site</title>

    <link rel="icon" href="/assets/images/AutumnLeaf.gif" />
    <link href="/css/base.css" type="text/css" rel="stylesheet" />
    <link href="./index.css" type="text/css" rel="stylesheet" />
    <script
      type="module"
      src="https://unpkg.com/@splinetool/viewer@1.6.9/build/spline-viewer.js"
    ></script>
  </head>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>


  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-VPFYQJ4C7S"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-VPFYQJ4C7S');
  </script>

  <body>
    <scroll-top-button class="scroll-top-button"></scroll-top-button>
    <header-custom title="ANGUS"></header-custom>

    <div class="filler"></div>

    <div class="pad about1">
      <div class="transparent-box"></div>
        <h2>Angus Tan WIP</h2>
      </div>
    </div>
    

    <footer-custom></footer-custom>
  </body>

  <script type="module">
    import "/components/header/index.js";
    import "/components/footer/index.js";
    import globalContext from "/datas/globalContext.js";
    import {
      elementIsInViewPort,
      debounce,
    } from "/js/IntersectionObserver/vi.js";
    import "/components/button/ScrollTopButton/index.js"
    import "/js/About/animation.js"

    
    
    
    // =================== Common Functions ===================
    const filler = document.querySelector(".filler");
    const footer = document.querySelector("footer-custom");
    const about1 = document.querySelector(".transparent-box");

    setHeaderHeight();

    // height change listener
    globalContext.headerHeight.subscribe(() => {
      setHeaderHeight(globalContext.headerHeight.getState().height);
      x = about1.clientWidth / 2;
      y = about1.clientHeight / 2;
    });

    window.addEventListener("scroll", debounce(checkItemInView, 5));


    function setHeaderHeight(height){
    if(window.innerWidth > 319 && window.innerWidth < 768){
        filler.style.height = '70px'
    }else{
        filler.style.height = '250px'
    }
}
    function checkItemInView() {
      // Check footer
      if (elementIsInViewPort(footer, 5)) {
        footer.shadowRoot
          .querySelector(".footer")
          .classList.add("outer-container-show");
      }
    }

  </script>
</html>
